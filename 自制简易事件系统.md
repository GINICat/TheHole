# 自制简易事件系统

## 主要文件/类/命名空间
* 命名空间为KToolkit
* EventSystem.cs：全局管理事件系统的静态类，主要对外接口是SendNotification系列接口，用来发送事件通知。支持可变参数。
* EventEnum.cs：事件枚举，主要用来新增事件名称，后续可能会扩展事件类型等。
* Observer.cs：观察者基类，可选是否继承自MonoBehavior。   


## 用法
* 如果一个类想要作为观察者，接入事件系统，则需要继承自Observer（或者ObserverNoMono，如果不想继承自MonoBehavior的话）。
* 使用Observer.AddEventListener()接口来注册对单个事件的监听，两个参数为：事件名称；对于该事件，这个观察者收到对应事件通知后调用的回调函数（对同一个事件不可以重复注册，重复注册同一事件以最后一次注册的结果为准，前面传入的回调都会被覆盖掉）。
* 使用EventManager.SendNotification()接口来发送事件通知，SendNotification()接口会遍历所有观察者，删除其中已经失效的观察者，并调用每个有效的观察者对应事件回调。

## 实例
* 可以参考项目Assets根目录下的TestBehavior.cs和TestObserver.cs。前者为事件发送者，后者为观察者，将这两个脚本附加到任意物体上即可进行测试。